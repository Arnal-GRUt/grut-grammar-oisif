---
// import Tag from "../pages/tags/[tag].astro";
// import PostTags from "../components/postTags.astro";
const { title, url, pubDate, author, contexte, enonce, tags } = Astro.props;
---

<a class="lien-post" href={url}>
    <div class="display-flex direction-column presentation">
        <div class="display-flex carton-presentation direction-column">
            <h2>{title}</h2>
            <p class="date-et-auteur">
                <span class="date-publication">
                    <!-- {pubDate.toString().slice(0, 10)}</span -->
                    {pubDate}</span
                >
                <span>|</span><span class="auteur">{author}</span>
            </p>
        </div>
        <div class="display-flex introduction direction-column">
            <h3>Présentation / contexte</h3>
            <p>{contexte}</p>
            <h3>Énoncé</h3>
            <p>{enonce}</p>
        </div>
        <div class="display-flex boite-contrainte">
            <h3>Contraintes</h3>
            <ul class="tags">
                {tags.map((tag: string) => <li class="tag">{tag}</li>)}
            </ul>
            <!-- <ul class="tags">
                {
                    tags.map((tag: string) => (
                        <li class="tag">
                            <a href={`/tags/${tag}`}>{tag}</a>
                        </li>
                    ))
                }
            </ul> -->
        </div>
    </div>
    <!-- 
      <section class="display-flex direction-column">
        <div class="corps-texte display-flex direction-column">
          <h3>
            Premier chacha. Lorem ipsum dolor sit amet. Donec euismod turpis non
            urna auctor sagittis.
          </h3>
          <div class="display-flex container-paragraph direction-row">
            <p>
              consectetur adipiscing elit. Donec euismod turpis non urna auctor
              sagittis. Nulla facilisi. Suspendisse tempor elit urna, a ultrices
              enim convallis in. In non congue elit, sed fringilla ipsum. Nunc
              nec venenatis dui, in ornare leo. <a href="#"
                >Sed auctor magna arcu, id tincidunt purus facilisis quis</a
              >. Phasellus vehicula eros quis ex faucibus, ac pellentesque sem
              feugiat. Fusce vel eros quam. Ut et magna nibh. Nullam id pharetra
              enim, nec auctor augue. Mauris dignissim ornare interdum. Quisque
              at nisi ullamcorper, lobortis erat at, vehicula nisl. Nam dictum
              id lorem vel vehicula. Integer eros justo, commodo id eros eget,
              aliquet pellentesque erat.
            </p>
          </div>
        </div>
        <div class="corps-texte display-flex direction-column">
          <h3>
            Premier chacha. Lorem ipsum dolor sit amet. Donec euismod turpis non
            urna auctor sagittis.
          </h3>
          <div class="display-flex container-paragraph direction-row">
            <p>
              consectetur adipiscing elit. Donec euismod turpis non urna auctor
              sagittis. Nulla facilisi. Suspendisse tempor elit urna, a ultrices
              enim convallis in. In non congue elit, sed fringilla ipsum. Nunc
              nec venenatis dui, in ornare leo. <a href="#"
                >Sed auctor magna arcu, id tincidunt purus facilisis quis</a
              >. Phasellus vehicula eros quis ex faucibus, ac pellentesque sem
              feugiat. Fusce vel eros quam. Ut et magna nibh. Nullam id pharetra
              enim, nec auctor augue. Mauris dignissim ornare interdum. Quisque
              at nisi ullamcorper, lobortis erat at, vehicula nisl. Nam dictum
              id lorem vel vehicula. Integer eros justo, commodo id eros eget,
              aliquet pellentesque erat.<br /> Fusce sed urna in dolor imperdiet efficitur
              nec vitae risus. Aenean id purus id dolor efficitur varius. Vivamus
              consequat nibh dolor, nec pellentesque nisi pulvinar vitae. Integer
              blandit molestie eros vel sagittis. Mauris nec iaculis ex, ut sodales
              enim. Vestibulum mattis gravida ante id hendrerit. Sed elementum enim
              in nisl mollis, et varius magna scelerisque. Integer tristique magna
              id purus luctus luctus.
            </p>
          </div>
        </div>
        <div class="corps-texte display-flex direction-column">
          <h3>
            Premier chacha. Lorem ipsum dolor sit amet. Donec euismod turpis non
            urna auctor sagittis.
          </h3>
          <div class="display-flex container-paragraph direction-row">
            <p>
              consectetur adipiscing elit. Donec euismod turpis non urna auctor
              sagittis. Nulla facilisi. Suspendisse tempor elit urna, a ultrices
              enim convallis in. In non congue elit, sed fringilla ipsum. Nunc
              nec venenatis dui, in ornare leo. <a href="#"
                >Sed auctor magna arcu, id tincidunt purus facilisis quis</a
              >. Phasellus vehicula eros quis ex faucibus, ac pellentesque sem
              feugiat. Fusce vel eros quam. Ut et magna nibh. Nullam id pharetra
              enim, nec auctor augue. Mauris dignissim ornare interdum. Quisque
              at nisi ullamcorper, lobortis erat at, vehicula nisl. Nam dictum
              id lorem vel vehicula. Integer eros justo, commodo id eros eget,
              aliquet pellentesque erat.
            </p>
          </div>
        </div>
      </section>
    </div> -->
</a>

<!-- Style -->
<style>
    a.lien-post {
        transition: background 0.2s ease;
        max-width: calc(640px - 2rem);
        width: 100%;

        &:hover {
            background: color-mix(in srgb, var(--white) 50%, transparent);
        }

        &:after {
            display: none;
        }

        & .display-flex.direction-column.presentation {
            max-width: calc(640px - 2rem);
            width: 100%;
            border: 2px dashed var(--white);
            padding: 8px;
            transition: background 0.1s ease;
            border-radius: 4px;
            position: relative;

            & .carton-presentation {
                display: flex;
                flex-direction: column;
            }

            & .container-paragraph.introduction {
                min-width: 100%;
            }

            & .display-flex.boite-contrainte {
                flex-wrap: wrap;
                gap: 1rem;

                & div:not(:has(ul)) {
                    width: 100%;
                    max-width: calc(33% - 0.34rem - 48px);
                }
            }
        }

        & p {
            font-size: 1rem;
            color: var(--black);
        }

        & h2 {
            font-size: 1.5rem;
        }

        & h3 {
            font-size: 1.2rem;
            line-height: 3.5ch;
        }

        & p.date-et-auteur {
            font-size: 0.8rem;
            display: flex;
            flex-direction: row;
            gap: 8px;
        }

        & div.contenu-texte {
            border-bottom: 2px dashed var(--black);
        }

        & .display-flex.direction-column.contenu-texte {
            padding: 3vh 24px;
            max-width: 672px;
            position: relative;
        }

        & ul.liste-contraintes {
            display: flex;
            flex-direction: row;
            width: 100%;
            gap: 0.5rem;
            padding: 1ch 0;
            flex-wrap: wrap;

            & li {
                font-size: 0.9rem;
                font-weight: 400;
                font-family: "Source Serif 4", serif;
                padding: 0.5ch 1ch;
                border-radius: 4px;
                background-color: color-mix(
                    in srgb,
                    var(--background) 60%,
                    transparent
                );
                min-width: fit-content;
                transition: background 0.3s ease;

                &:hover {
                    background: var(--black);
                    color: var(--white);
                }
            }
        }
        & ul.tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            font-size: 0.8rem;
            line-height: 2ch;
            padding-bottom: 1ch;
            display: flex;
            margin-left: 0;
            padding-left: 0;
        }

        & ul.tags li.tag {
            font-size: 0.8rem;
            font-weight: 400;
            font-family: "Source Serif 4", serif;
            background: var(--white);
            padding: 1ch;
            border-radius: 4px;
            cursor: pointer;

            & a {
                text-decoration: none;
                color: var(--black);

                &::before {
                    display: none;
                }
            }
            &:hover {
                background: var(--black);
                color: var(--background);

                & a {
                    color: var(--background);
                }
            }
        }
    }
</style>
